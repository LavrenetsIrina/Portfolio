import asyncio
from playwright.async_api import async_playwright

async def run(playwright):
    browsers = [playwright.chromium, playwright.firefox]  
    expected_title = "Fast and reliable end-to-end testing for modern web apps"

    for browser in browsers:
        async with browser.launch() as b:
            context = await b.new_context()
            page = await context.new_page()
            
            await page.goto("https://playwright.dev/")
            
            title = await page.title()
            print(f"Title in {browser.name}: {title}")
            
            assert title == expected_title
            
            await context.close()

async def main():
    async with async_playwright() as playwright:
        await run(playwright)
    asyncio.run(main())


